
> vheer-clone@1.0.0 predev
> powershell -ExecutionPolicy Bypass -File kill-ports.ps1

ê?ë?ê?ê?ê+ê?êê?ê¯êÁê? êıê?ë?ë'ë< 5000 êÒ 5178...
ê-ê¯êÛë?ë<ê?ê¯êÁê? êıë?ê?ë≈êÁë?ë? 15180 ê?ê¯ êıê?ë?ë'ë? 5000
ê-ê¯êÛë?ë<ê?ê¯êÁê? êıë?ê?ë≈êÁë?ë? 0 ê?ê¯ êıê?ë?ë'ë? 5178
ê?ê?ë?ë'ë< ê?ë?ê?ê?ê+ê?êê?êÁê?ë<!

> vheer-clone@1.0.0 dev
> concurrently "npm run server:dev" "npm run client:dev"

(node:3784) [DEP0060] DeprecationWarning: The `util._extend` API is deprecated. Please use Object.assign() instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
[0] 
[0] > vheer-clone@1.0.0 server:dev
[0] > cd server && set PORT=5000 && nodemon index.js
[0] 
[1] 
[1] > vheer-clone@1.0.0 client:dev
[1] > cd client && npm run dev
[1] 
[0] [33m[nodemon] 3.1.10[39m
[0] [33m[nodemon] to restart at any time, enter `rs`[39m
[0] [33m[nodemon] watching path(s): *.*[39m
[0] [33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[0] [32m[nodemon] starting `node index.js`[39m
[1] 
[1] > colibrrri-client@0.0.1 dev
[1] > vite
[1] 
[0] NODE_ENV: development
[1] [31merror when starting dev server:
[1] Error: Port 5178 is already in use
[1]     at Server.onError (file:///C:/Users/Denis/Desktop/Vheer/vheer-clone/client/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:45596:18)
[1]     at Server.emit (node:events:518:28)
[1]     at emitErrorNT (node:net:1976:8)
[1]     at process.processTicksAndRejections (node:internal/process/task_queues:90:21)[39m
[1] npm run client:dev exited with code 1
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ===================================
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T08:31:09.713Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T08:31:09.713Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T08:31:09.713Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T08:31:09.717Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T08:31:09.718Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T08:31:09.718Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] [2025-08-23T08:31:09.746Z] [INFO] Server started {"port":"5000 ","environment":"development","nodeVersion":"v22.17.1"}
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ===================================
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T08:38:33.858Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T08:38:33.858Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T08:38:33.858Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T08:38:33.862Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T08:38:33.862Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T08:38:33.862Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] [2025-08-23T08:38:33.888Z] [INFO] Server started {"port":"5000 ","environment":"development","nodeVersion":"v22.17.1"}
[0] [2025-08-23T09:00:00.033Z] [INFO] üîÑ Running automatic payment processing...
[0] [2025-08-23T09:00:00.034Z] [INFO] üîÑ Running expired subscription check...
[0] [2025-08-23T09:00:01.608Z] [INFO] üîç Found 0 expired subscriptions to process
[0] [2025-08-23T09:00:01.624Z] [INFO] üîÑ Found 0 subscriptions requiring automatic payment
[0] Flux generation request: {
[0]   style: 'disney',
[0]   model: 'flux-pro',
[0]   aspectRatio: '4:3',
[0]   hasPrompt: true,
[0]   hasImage: true,
[0]   userId: 'cmeiiqjrb0000ef1lt2m3oarq'
[0] }
[0] Credit check response: { canAfford: true, available: 9240 }
[0] Using flux-pro model with 28 steps
[0] Flux API request to bfl.ai: {
[0]   prompt: 'Transform this photo into Disney Pixar 3D animation style, cute cartoon character style, vibrant colors, smooth rendering, family-friendly. Make it look like a professional disney animation character portrait.',
[0]   aspect_ratio: '4:3',
[0]   output_format: 'jpeg',
[0]   has_input_image: true
[0] }
[0] Flux API response: {
[0]   "id": "56d8c81f-2dd5-4c35-a62f-da78c1e09f67",
[0]   "polling_url": "https://api.us1.bfl.ai/v1/get_result?id=56d8c81f-2dd5-4c35-a62f-da78c1e09f67"
[0] }
[0] Starting to poll bfl.ai for request: 56d8c81f-2dd5-4c35-a62f-da78c1e09f67
[0] Polling URL: https://api.us1.bfl.ai/v1/get_result?id=56d8c81f-2dd5-4c35-a62f-da78c1e09f67
[0] üîó Using polling URL: https://api.us1.bfl.ai/v1/get_result?id=56d8c81f-2dd5-4c35-a62f-da78c1e09f67
[0] Poll attempt 1, status: Pending
[0] üîó Using polling URL: https://api.us1.bfl.ai/v1/get_result?id=56d8c81f-2dd5-4c35-a62f-da78c1e09f67
[0] Poll attempt 2, status: Pending
[0] üîó Using polling URL: https://api.us1.bfl.ai/v1/get_result?id=56d8c81f-2dd5-4c35-a62f-da78c1e09f67
[0] Poll attempt 3, status: Pending
[0] üîó Using polling URL: https://api.us1.bfl.ai/v1/get_result?id=56d8c81f-2dd5-4c35-a62f-da78c1e09f67
[0] Poll attempt 4, status: Pending
[0] üîó Using polling URL: https://api.us1.bfl.ai/v1/get_result?id=56d8c81f-2dd5-4c35-a62f-da78c1e09f67
[0] Poll attempt 5, status: Pending
[0] üîó Using polling URL: https://api.us1.bfl.ai/v1/get_result?id=56d8c81f-2dd5-4c35-a62f-da78c1e09f67
[0] Poll attempt 6, status: Ready
[0] bfl.ai generation completed successfully!
[0] Successfully deducted 10 credits for flux-pro
[0] Starting to save generated image for user: unitradecargo_1755606425734
[0] üóÑÔ∏è  Storage Provider: cloudinary
[0] üü¢ Cloudinary initialized: df9joii9s
[0] üîÑ Uploading image to storage provider...
[0] üîÑ Generating thumbnail...
[0] ‚úÖ Upload complete: {
[0]   imageUrl: 'https://res.cloudinary.com/df9joii9s/image/upload/v1755939709/vheer-ai/generated/77b481fc-00ae-4bbe-b6b1-84c09ddec802.jpg',
[0]   thumbnailUrl: 'https://res.cloudinary.com/df9joii9s/image/upload/v1755939713/vheer-ai/thumbnails/ba9bc5e4-b912-45e3-aa29-537c8ff33546.jpg',
[0]   cloudPath: 'vheer-ai/generated/77b481fc-00ae-4bbe-b6b1-84c09ddec802'
[0] }
[0] ‚úÖ Image saved to database with cloudPath: cmeo163nk00034tvjuz4j10vb cloudPath: vheer-ai/generated/77b481fc-00ae-4bbe-b6b1-84c09ddec802
[0] Image saved to user gallery
[0] üìã Plans request received: {
[0]   lang: 'en',
[0]   headers: {
[0]     host: 'localhost:5000',
[0]     connection: 'keep-alive',
[0]     'sec-ch-ua-platform': '"Windows"',
[0]     authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJjbWVpaXFqcmIwMDAwZWYxbHQybTNvYXJxIiwiaWF0IjoxNzU1ODc4NzMwLCJleHAiOjE3NTY0ODM1MzB9.6uqjjnv4vjL1L_HWOIzqSWd2WjFnxkIwPAbfSolecOQ',
[0]     'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36',
[0]     accept: 'application/json, text/plain, */*',
[0]     'sec-ch-ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"',
[0]     'sec-ch-ua-mobile': '?0',
[0]     origin: 'http://localhost:5178',
[0]     'sec-fetch-site': 'same-site',
[0]     'sec-fetch-mode': 'cors',
[0]     'sec-fetch-dest': 'empty',
[0]     referer: 'http://localhost:5178/',
[0]     'accept-encoding': 'gzip, deflate, br, zstd',
[0]     'accept-language': 'en-US,en;q=0.9,ru-UA;q=0.8,ru;q=0.7,de-DE;q=0.6,de;q=0.5'
[0]   },
[0]   origin: 'http://localhost:5178'
[0] }
[0] üìã Plans request received: {
[0]   lang: 'en',
[0]   headers: {
[0]     host: 'localhost:5000',
[0]     connection: 'keep-alive',
[0]     'sec-ch-ua-platform': '"Windows"',
[0]     authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJjbWVpaXFqcmIwMDAwZWYxbHQybTNvYXJxIiwiaWF0IjoxNzU1ODc4NzMwLCJleHAiOjE3NTY0ODM1MzB9.6uqjjnv4vjL1L_HWOIzqSWd2WjFnxkIwPAbfSolecOQ',
[0]     'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36',
[0]     accept: 'application/json, text/plain, */*',
[0]     'sec-ch-ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"',
[0]     'sec-ch-ua-mobile': '?0',
[0]     origin: 'http://localhost:5178',
[0]     'sec-fetch-site': 'same-site',
[0]     'sec-fetch-mode': 'cors',
[0]     'sec-fetch-dest': 'empty',
[0]     referer: 'http://localhost:5178/',
[0]     'accept-encoding': 'gzip, deflate, br, zstd',
[0]     'accept-language': 'en-US,en;q=0.9,ru-UA;q=0.8,ru;q=0.7,de-DE;q=0.6,de;q=0.5',
[0]     'if-none-match': 'W/"3b4-hRJ/bLsz0+2IELyclY9JBivOUsA"'
[0]   },
[0]   origin: 'http://localhost:5178'
[0] }
[0] üìã Plans request received: {
[0]   lang: 'en',
[0]   headers: {
[0]     host: 'localhost:5000',
[0]     connection: 'keep-alive',
[0]     'sec-ch-ua-platform': '"Windows"',
[0]     authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJjbWVpaXFqcmIwMDAwZWYxbHQybTNvYXJxIiwiaWF0IjoxNzU1ODc4NzMwLCJleHAiOjE3NTY0ODM1MzB9.6uqjjnv4vjL1L_HWOIzqSWd2WjFnxkIwPAbfSolecOQ',
[0]     'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36',
[0]     accept: 'application/json, text/plain, */*',
[0]     'sec-ch-ua': '"Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"',
[0]     'sec-ch-ua-mobile': '?0',
[0]     origin: 'http://localhost:5178',
[0]     'sec-fetch-site': 'same-site',
[0]     'sec-fetch-mode': 'cors',
[0]     'sec-fetch-dest': 'empty',
[0]     referer: 'http://localhost:5178/',
[0]     'accept-encoding': 'gzip, deflate, br, zstd',
[0]     'accept-language': 'en-US,en;q=0.9,ru-UA;q=0.8,ru;q=0.7,de-DE;q=0.6,de;q=0.5',
[0]     'if-none-match': 'W/"3b4-hRJ/bLsz0+2IELyclY9JBivOUsA"'
[0]   },
[0]   origin: 'http://localhost:5178'
[0] }
[0] [31m[nodemon] app crashed - waiting for file changes before starting...[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ===================================
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T09:44:05.246Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T09:44:05.246Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T09:44:05.246Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T09:44:05.251Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T09:44:05.251Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T09:44:05.251Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] [2025-08-23T09:44:05.280Z] [INFO] Server started {"port":"5000 ","environment":"development","nodeVersion":"v22.17.1"}
[0] Flux generation request: {
[0]   style: 'pixar',
[0]   model: 'flux-pro',
[0]   aspectRatio: '1:1',
[0]   hasPrompt: true,
[0]   hasImage: true,
[0]   userId: 'cmeiiqjrb0000ef1lt2m3oarq'
[0] }
[0] Credit check response: { canAfford: true, available: 9200 }
[0] Using flux-pro model with 28 steps
[0] Flux API request to bfl.ai: {
[0]   prompt: 'Transform this photo into Pixar 3D animated character, high quality render style, bright lighting, expressive eyes, smooth textures. Make it look like a professional pixar animation character portrait.',
[0]   aspect_ratio: '1:1',
[0]   output_format: 'jpeg',
[0]   has_input_image: true
[0] }
[0] Flux API response: {
[0]   "id": "05da8768-60bf-4dc1-9822-8cebb474d8e5",
[0]   "polling_url": "https://api.eu4.bfl.ai/v1/get_result?id=05da8768-60bf-4dc1-9822-8cebb474d8e5"
[0] }
[0] Starting to poll bfl.ai for request: 05da8768-60bf-4dc1-9822-8cebb474d8e5
[0] Polling URL: https://api.eu4.bfl.ai/v1/get_result?id=05da8768-60bf-4dc1-9822-8cebb474d8e5
[0] üîó Using polling URL: https://api.eu4.bfl.ai/v1/get_result?id=05da8768-60bf-4dc1-9822-8cebb474d8e5
[0] Poll attempt 1, status: Pending
[0] üîó Using polling URL: https://api.eu4.bfl.ai/v1/get_result?id=05da8768-60bf-4dc1-9822-8cebb474d8e5
[0] Poll attempt 2, status: Pending
[0] üîó Using polling URL: https://api.eu4.bfl.ai/v1/get_result?id=05da8768-60bf-4dc1-9822-8cebb474d8e5
[0] Poll attempt 3, status: Pending
[0] üîó Using polling URL: https://api.eu4.bfl.ai/v1/get_result?id=05da8768-60bf-4dc1-9822-8cebb474d8e5
[0] Poll attempt 4, status: Pending
[0] üîó Using polling URL: https://api.eu4.bfl.ai/v1/get_result?id=05da8768-60bf-4dc1-9822-8cebb474d8e5
[0] Poll attempt 5, status: Pending
[0] üîó Using polling URL: https://api.eu4.bfl.ai/v1/get_result?id=05da8768-60bf-4dc1-9822-8cebb474d8e5
[0] Poll attempt 6, status: Pending
[0] üîó Using polling URL: https://api.eu4.bfl.ai/v1/get_result?id=05da8768-60bf-4dc1-9822-8cebb474d8e5
[0] Poll attempt 7, status: Pending
[0] üîó Using polling URL: https://api.eu4.bfl.ai/v1/get_result?id=05da8768-60bf-4dc1-9822-8cebb474d8e5
[0] Poll attempt 8, status: Ready
[0] bfl.ai generation completed successfully!
[0] Successfully deducted 10 credits for flux-pro
[0] Starting to save generated image for user: unitradecargo_1755606425734
[0] üóÑÔ∏è  Storage Provider: cloudinary
[0] üü¢ Cloudinary initialized: df9joii9s
[0] üîÑ Uploading image to storage provider...
[0] üîÑ Generating thumbnail...
[0] ‚úÖ Upload complete: {
[0]   imageUrl: 'https://res.cloudinary.com/df9joii9s/image/upload/v1755942387/vheer-ai/generated/81017cf2-f799-41d0-a7b7-989c9d9fbc4e.jpg',
[0]   thumbnailUrl: 'https://res.cloudinary.com/df9joii9s/image/upload/v1755942389/vheer-ai/thumbnails/ced9f961-90da-4acd-af5a-e742ca6f4017.jpg',
[0]   cloudPath: 'vheer-ai/generated/81017cf2-f799-41d0-a7b7-989c9d9fbc4e'
[0] }
[0] ‚úÖ Image saved to database with cloudPath: cmeo2rg8h0003997gw3ou1hjb cloudPath: vheer-ai/generated/81017cf2-f799-41d0-a7b7-989c9d9fbc4e
[0] Image saved to user gallery
[0] [2025-08-23T10:00:00.064Z] [INFO] üîÑ Running expired subscription check...
[0] [2025-08-23T10:00:00.066Z] [INFO] üîÑ Running automatic payment processing...
[0] [2025-08-23T10:00:01.643Z] [INFO] üîç Found 0 expired subscriptions to process
[0] [2025-08-23T10:00:01.665Z] [INFO] üîÑ Found 0 subscriptions requiring automatic payment
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ===================================
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T10:00:46.101Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T10:00:46.101Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T10:00:46.101Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T10:00:46.105Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T10:00:46.105Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T10:00:46.105Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] node:events:496
[0]       throw er; // Unhandled 'error' event
[0]       ^
[0] 
[0] Error: listen EADDRINUSE: address already in use :::5000
[0]     at Server.setupListenHandle [as _listen2] (node:net:1940:16)
[0]     at listenInCluster (node:net:1997:12)
[0]     at Server.listen (node:net:2102:7)
[0]     at Function.listen (C:\Users\Denis\Desktop\Vheer\vheer-clone\server\node_modules\express\lib\application.js:635:24)
[0]     at file:///C:/Users/Denis/Desktop/Vheer/vheer-clone/server/index.js:189:20
[0]     at ModuleJob.run (node:internal/modules/esm/module_job:329:25)
[0]     at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
[0]     at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
[0] Emitted 'error' event on Server instance at:
[0]     at emitErrorNT (node:net:1976:8)
[0]     at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
[0]   code: 'EADDRINUSE',
[0]   errno: -4091,
[0]   syscall: 'listen',
[0]   address: '::',
[0]   port: 5000
[0] }
[0] 
[0] Node.js v22.17.1
[0] [31m[nodemon] app crashed - waiting for file changes before starting...[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] ===================================
[0] 
[0] üö® Missing Required Environment Variables:
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T10:00:48.072Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T10:00:48.072Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T10:00:48.072Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T10:00:48.076Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T10:00:48.076Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T10:00:48.076Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] [2025-08-23T10:00:48.102Z] [INFO] Server started {"port":"5000 ","environment":"development","nodeVersion":"v22.17.1"}
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] ===================================
[0] 
[0] üö® Missing Required Environment Variables:
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T10:00:50.616Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T10:00:50.616Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T10:00:50.616Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T10:00:50.620Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T10:00:50.620Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T10:00:50.620Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] node:events:496
[0]       throw er; // Unhandled 'error' event
[0]       ^
[0] 
[0] Error: listen EADDRINUSE: address already in use :::5000
[0]     at Server.setupListenHandle [as _listen2] (node:net:1940:16)
[0]     at listenInCluster (node:net:1997:12)
[0]     at Server.listen (node:net:2102:7)
[0]     at Function.listen (C:\Users\Denis\Desktop\Vheer\vheer-clone\server\node_modules\express\lib\application.js:635:24)
[0]     at file:///C:/Users/Denis/Desktop/Vheer/vheer-clone/server/index.js:189:20
[0]     at ModuleJob.run (node:internal/modules/esm/module_job:329:25)
[0]     at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
[0]     at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
[0] Emitted 'error' event on Server instance at:
[0]     at emitErrorNT (node:net:1976:8)
[0]     at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
[0]   code: 'EADDRINUSE',
[0]   errno: -4091,
[0]   syscall: 'listen',
[0]   address: '::',
[0]   port: 5000
[0] }
[0] 
[0] Node.js v22.17.1
[0] [31m[nodemon] app crashed - waiting for file changes before starting...[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ===================================
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T10:01:29.183Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T10:01:29.184Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T10:01:29.184Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T10:01:29.188Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T10:01:29.188Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T10:01:29.188Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] node:events:496
[0]       throw er; // Unhandled 'error' event
[0]       ^
[0] 
[0] Error: listen EADDRINUSE: address already in use :::5000
[0]     at Server.setupListenHandle [as _listen2] (node:net:1940:16)
[0]     at listenInCluster (node:net:1997:12)
[0]     at Server.listen (node:net:2102:7)
[0]     at Function.listen (C:\Users\Denis\Desktop\Vheer\vheer-clone\server\node_modules\express\lib\application.js:635:24)
[0]     at file:///C:/Users/Denis/Desktop/Vheer/vheer-clone/server/index.js:189:20
[0]     at ModuleJob.run (node:internal/modules/esm/module_job:329:25)
[0]     at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
[0]     at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
[0] Emitted 'error' event on Server instance at:
[0]     at emitErrorNT (node:net:1976:8)
[0]     at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
[0]   code: 'EADDRINUSE',
[0]   errno: -4091,
[0]   syscall: 'listen',
[0]   address: '::',
[0]   port: 5000
[0] }
[0] 
[0] Node.js v22.17.1
[0] [31m[nodemon] app crashed - waiting for file changes before starting...[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ===================================
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] file:///C:/Users/Denis/Desktop/Vheer/vheer-clone/server/index.js:127
[0] app.use('/api/video', lumaVideoRoutes);
[0]                       ^
[0] 
[0] ReferenceError: lumaVideoRoutes is not defined
[0]     at file:///C:/Users/Denis/Desktop/Vheer/vheer-clone/server/index.js:127:23
[0]     at ModuleJob.run (node:internal/modules/esm/module_job:329:25)
[0]     at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
[0]     at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
[0] 
[0] Node.js v22.17.1
[0] [31m[nodemon] app crashed - waiting for file changes before starting...[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ===================================
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] ===================================
[0] 
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T10:05:31.043Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T10:05:31.043Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T10:05:31.043Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T10:05:31.047Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T10:05:31.048Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T10:05:31.048Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] node:events:496
[0]       throw er; // Unhandled 'error' event
[0]       ^
[0] 
[0] Error: listen EADDRINUSE: address already in use :::5000
[0]     at Server.setupListenHandle [as _listen2] (node:net:1940:16)
[0]     at listenInCluster (node:net:1997:12)
[0]     at Server.listen (node:net:2102:7)
[0]     at Function.listen (C:\Users\Denis\Desktop\Vheer\vheer-clone\server\node_modules\express\lib\application.js:635:24)
[0]     at file:///C:/Users/Denis/Desktop/Vheer/vheer-clone/server/index.js:191:20
[0]     at ModuleJob.run (node:internal/modules/esm/module_job:329:25)
[0]     at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
[0]     at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
[0] Emitted 'error' event on Server instance at:
[0]     at emitErrorNT (node:net:1976:8)
[0]     at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
[0]   code: 'EADDRINUSE',
[0]   errno: -4091,
[0]   syscall: 'listen',
[0]   address: '::',
[0]   port: 5000
[0] }
[0] 
[0] Node.js v22.17.1
[0] [31m[nodemon] app crashed - waiting for file changes before starting...[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ===================================
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T10:08:25.300Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T10:08:25.300Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T10:08:25.300Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T10:08:25.305Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T10:08:25.305Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T10:08:25.305Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] [2025-08-23T10:08:25.333Z] [INFO] Server started {"port":"5000 ","environment":"development","nodeVersion":"v22.17.1"}
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ===================================
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T10:08:39.676Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T10:08:39.676Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T10:08:39.676Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T10:08:39.680Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T10:08:39.680Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T10:08:39.680Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] node:events:496
[0]       throw er; // Unhandled 'error' event
[0]       ^
[0] 
[0] Error: listen EADDRINUSE: address already in use :::5000
[0]     at Server.setupListenHandle [as _listen2] (node:net:1940:16)
[0]     at listenInCluster (node:net:1997:12)
[0]     at Server.listen (node:net:2102:7)
[0]     at Function.listen (C:\Users\Denis\Desktop\Vheer\vheer-clone\server\node_modules\express\lib\application.js:635:24)
[0]     at file:///C:/Users/Denis/Desktop/Vheer/vheer-clone/server/index.js:191:20
[0]     at ModuleJob.run (node:internal/modules/esm/module_job:329:25)
[0]     at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
[0]     at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
[0] Emitted 'error' event on Server instance at:
[0]     at emitErrorNT (node:net:1976:8)
[0]     at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
[0]   code: 'EADDRINUSE',
[0]   errno: -4091,
[0]   syscall: 'listen',
[0]   address: '::',
[0]   port: 5000
[0] }
[0] 
[0] Node.js v22.17.1
[0] [31m[nodemon] app crashed - waiting for file changes before starting...[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ===================================
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T10:08:41.505Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T10:08:41.505Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T10:08:41.505Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T10:08:41.510Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T10:08:41.510Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T10:08:41.510Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] [2025-08-23T10:08:41.539Z] [INFO] Server started {"port":"5000 ","environment":"development","nodeVersion":"v22.17.1"}
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ===================================
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T10:08:43.569Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T10:08:43.570Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T10:08:43.570Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T10:08:43.573Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T10:08:43.574Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T10:08:43.574Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] node:events:496
[0]       throw er; // Unhandled 'error' event
[0]       ^
[0] 
[0] Error: listen EADDRINUSE: address already in use :::5000
[0]     at Server.setupListenHandle [as _listen2] (node:net:1940:16)
[0]     at listenInCluster (node:net:1997:12)
[0]     at Server.listen (node:net:2102:7)
[0]     at Function.listen (C:\Users\Denis\Desktop\Vheer\vheer-clone\server\node_modules\express\lib\application.js:635:24)
[0]     at file:///C:/Users/Denis/Desktop/Vheer/vheer-clone/server/index.js:191:20
[0]     at ModuleJob.run (node:internal/modules/esm/module_job:329:25)
[0]     at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
[0]     at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
[0] Emitted 'error' event on Server instance at:
[0]     at emitErrorNT (node:net:1976:8)
[0]     at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
[0]   code: 'EADDRINUSE',
[0]   errno: -4091,
[0]   syscall: 'listen',
[0]   address: '::',
[0]   port: 5000
[0] }
[0] 
[0] Node.js v22.17.1
[0] [31m[nodemon] app crashed - waiting for file changes before starting...[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ===================================
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T10:08:45.441Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T10:08:45.441Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T10:08:45.441Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T10:08:45.447Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T10:08:45.447Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T10:08:45.447Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] [2025-08-23T10:08:45.474Z] [INFO] Server started {"port":"5000 ","environment":"development","nodeVersion":"v22.17.1"}
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ===================================
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T10:08:47.574Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T10:08:47.574Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T10:08:47.574Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T10:08:47.578Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T10:08:47.578Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T10:08:47.578Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] node:events:496
[0]       throw er; // Unhandled 'error' event
[0]       ^
[0] 
[0] Error: listen EADDRINUSE: address already in use :::5000
[0]     at Server.setupListenHandle [as _listen2] (node:net:1940:16)
[0]     at listenInCluster (node:net:1997:12)
[0]     at Server.listen (node:net:2102:7)
[0]     at Function.listen (C:\Users\Denis\Desktop\Vheer\vheer-clone\server\node_modules\express\lib\application.js:635:24)
[0]     at file:///C:/Users/Denis/Desktop/Vheer/vheer-clone/server/index.js:191:20
[0]     at ModuleJob.run (node:internal/modules/esm/module_job:329:25)
[0]     at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
[0]     at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
[0] Emitted 'error' event on Server instance at:
[0]     at emitErrorNT (node:net:1976:8)
[0]     at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
[0]   code: 'EADDRINUSE',
[0]   errno: -4091,
[0]   syscall: 'listen',
[0]   address: '::',
[0]   port: 5000
[0] }
[0] 
[0] Node.js v22.17.1
[0] [31m[nodemon] app crashed - waiting for file changes before starting...[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ===================================
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T10:08:49.294Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T10:08:49.295Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T10:08:49.295Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T10:08:49.299Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T10:08:49.299Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T10:08:49.299Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] [2025-08-23T10:08:49.331Z] [INFO] Server started {"port":"5000 ","environment":"development","nodeVersion":"v22.17.1"}
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ===================================
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T10:10:26.144Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T10:10:26.144Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T10:10:26.144Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T10:10:26.148Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T10:10:26.148Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T10:10:26.148Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] node:events:496
[0]       throw er; // Unhandled 'error' event
[0]       ^
[0] 
[0] Error: listen EADDRINUSE: address already in use :::5000
[0]     at Server.setupListenHandle [as _listen2] (node:net:1940:16)
[0]     at listenInCluster (node:net:1997:12)
[0]     at Server.listen (node:net:2102:7)
[0]     at Function.listen (C:\Users\Denis\Desktop\Vheer\vheer-clone\server\node_modules\express\lib\application.js:635:24)
[0]     at file:///C:/Users/Denis/Desktop/Vheer/vheer-clone/server/index.js:191:20
[0]     at ModuleJob.run (node:internal/modules/esm/module_job:329:25)
[0]     at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
[0]     at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
[0] Emitted 'error' event on Server instance at:
[0]     at emitErrorNT (node:net:1976:8)
[0]     at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
[0]   code: 'EADDRINUSE',
[0]   errno: -4091,
[0]   syscall: 'listen',
[0]   address: '::',
[0]   port: 5000
[0] }
[0] 
[0] Node.js v22.17.1
[0] [31m[nodemon] app crashed - waiting for file changes before starting...[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ===================================
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T10:10:29.681Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T10:10:29.681Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T10:10:29.681Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T10:10:29.685Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T10:10:29.685Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T10:10:29.685Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] node:events:496
[0]       throw er; // Unhandled 'error' event
[0]       ^
[0] 
[0] Error: listen EADDRINUSE: address already in use :::5000
[0]     at Server.setupListenHandle [as _listen2] (node:net:1940:16)
[0]     at listenInCluster (node:net:1997:12)
[0]     at Server.listen (node:net:2102:7)
[0]     at Function.listen (C:\Users\Denis\Desktop\Vheer\vheer-clone\server\node_modules\express\lib\application.js:635:24)
[0]     at file:///C:/Users/Denis/Desktop/Vheer/vheer-clone/server/index.js:191:20
[0]     at ModuleJob.run (node:internal/modules/esm/module_job:329:25)
[0]     at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
[0]     at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
[0] Emitted 'error' event on Server instance at:
[0]     at emitErrorNT (node:net:1976:8)
[0]     at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
[0]   code: 'EADDRINUSE',
[0]   errno: -4091,
[0]   syscall: 'listen',
[0]   address: '::',
[0]   port: 5000
[0] }
[0] 
[0] Node.js v22.17.1
[0] [31m[nodemon] app crashed - waiting for file changes before starting...[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ===================================
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T10:10:33.406Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T10:10:33.406Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T10:10:33.406Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T10:10:33.411Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T10:10:33.411Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T10:10:33.411Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] node:events:496
[0]       throw er; // Unhandled 'error' event
[0]       ^
[0] 
[0] Error: listen EADDRINUSE: address already in use :::5000
[0]     at Server.setupListenHandle [as _listen2] (node:net:1940:16)
[0]     at listenInCluster (node:net:1997:12)
[0]     at Server.listen (node:net:2102:7)
[0]     at Function.listen (C:\Users\Denis\Desktop\Vheer\vheer-clone\server\node_modules\express\lib\application.js:635:24)
[0]     at file:///C:/Users/Denis/Desktop/Vheer/vheer-clone/server/index.js:191:20
[0]     at ModuleJob.run (node:internal/modules/esm/module_job:329:25)
[0]     at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
[0]     at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
[0] Emitted 'error' event on Server instance at:
[0]     at emitErrorNT (node:net:1976:8)
[0]     at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
[0]   code: 'EADDRINUSE',
[0]   errno: -4091,
[0]   syscall: 'listen',
[0]   address: '::',
[0]   port: 5000
[0] }
[0] 
[0] Node.js v22.17.1
[0] [31m[nodemon] app crashed - waiting for file changes before starting...[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ===================================
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T10:10:35.300Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T10:10:35.300Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T10:10:35.300Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T10:10:35.304Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T10:10:35.304Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T10:10:35.304Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] node:events:496
[0]       throw er; // Unhandled 'error' event
[0]       ^
[0] 
[0] Error: listen EADDRINUSE: address already in use :::5000
[0]     at Server.setupListenHandle [as _listen2] (node:net:1940:16)
[0]     at listenInCluster (node:net:1997:12)
[0]     at Server.listen (node:net:2102:7)
[0]     at Function.listen (C:\Users\Denis\Desktop\Vheer\vheer-clone\server\node_modules\express\lib\application.js:635:24)
[0]     at file:///C:/Users/Denis/Desktop/Vheer/vheer-clone/server/index.js:191:20
[0]     at ModuleJob.run (node:internal/modules/esm/module_job:329:25)
[0]     at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
[0]     at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
[0] Emitted 'error' event on Server instance at:
[0]     at emitErrorNT (node:net:1976:8)
[0]     at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
[0]   code: 'EADDRINUSE',
[0]   errno: -4091,
[0]   syscall: 'listen',
[0]   address: '::',
[0]   port: 5000
[0] }
[0] 
[0] Node.js v22.17.1
[0] [31m[nodemon] app crashed - waiting for file changes before starting...[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ===================================
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T10:13:08.008Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T10:13:08.008Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T10:13:08.008Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T10:13:08.014Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T10:13:08.015Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T10:13:08.015Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] [2025-08-23T10:13:08.048Z] [INFO] Server started {"port":"5000 ","environment":"development","nodeVersion":"v22.17.1"}
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] ===================================
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T10:13:38.494Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T10:13:38.494Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T10:13:38.494Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T10:13:38.503Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T10:13:38.504Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T10:13:38.504Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] node:events:496
[0]       throw er; // Unhandled 'error' event
[0]       ^
[0] 
[0] Error: listen EADDRINUSE: address already in use :::5000
[0]     at Server.setupListenHandle [as _listen2] (node:net:1940:16)
[0]     at listenInCluster (node:net:1997:12)
[0]     at Server.listen (node:net:2102:7)
[0]     at Function.listen (C:\Users\Denis\Desktop\Vheer\vheer-clone\server\node_modules\express\lib\application.js:635:24)
[0]     at file:///C:/Users/Denis/Desktop/Vheer/vheer-clone/server/index.js:191:20
[0]     at ModuleJob.run (node:internal/modules/esm/module_job:329:25)
[0]     at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
[0]     at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
[0] Emitted 'error' event on Server instance at:
[0]     at emitErrorNT (node:net:1976:8)
[0]     at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
[0]   code: 'EADDRINUSE',
[0]   errno: -4091,
[0]   syscall: 'listen',
[0]   address: '::',
[0]   port: 5000
[0] }
[0] 
[0] Node.js v22.17.1
[0] [31m[nodemon] app crashed - waiting for file changes before starting...[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ===================================
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T10:18:57.432Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T10:18:57.432Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T10:18:57.433Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T10:18:57.436Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T10:18:57.436Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T10:18:57.436Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] node:events:496
[0]       throw er; // Unhandled 'error' event
[0]       ^
[0] 
[0] Error: listen EADDRINUSE: address already in use :::5000
[0]     at Server.setupListenHandle [as _listen2] (node:net:1940:16)
[0]     at listenInCluster (node:net:1997:12)
[0]     at Server.listen (node:net:2102:7)
[0]     at Function.listen (C:\Users\Denis\Desktop\Vheer\vheer-clone\server\node_modules\express\lib\application.js:635:24)
[0]     at file:///C:/Users/Denis/Desktop/Vheer/vheer-clone/server/index.js:191:20
[0]     at ModuleJob.run (node:internal/modules/esm/module_job:329:25)
[0]     at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
[0]     at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
[0] Emitted 'error' event on Server instance at:
[0]     at emitErrorNT (node:net:1976:8)
[0]     at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
[0]   code: 'EADDRINUSE',
[0]   errno: -4091,
[0]   syscall: 'listen',
[0]   address: '::',
[0]   port: 5000
[0] }
[0] 
[0] Node.js v22.17.1
[0] [31m[nodemon] app crashed - waiting for file changes before starting...[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] ===================================
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T10:50:09.736Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T10:50:09.736Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T10:50:09.736Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T10:50:09.740Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T10:50:09.740Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T10:50:09.740Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] [2025-08-23T10:50:09.767Z] [INFO] Server started {"port":"5000 ","environment":"development","nodeVersion":"v22.17.1"}
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] ===================================
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T10:50:15.892Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T10:50:15.892Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T10:50:15.892Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T10:50:15.897Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T10:50:15.897Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T10:50:15.897Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] [2025-08-23T10:50:15.923Z] [INFO] Server started {"port":"5000 ","environment":"development","nodeVersion":"v22.17.1"}
[0] [31m[nodemon] app crashed - waiting for file changes before starting...[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] ===================================
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T11:56:56.093Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T11:56:56.093Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T11:56:56.093Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T11:56:56.098Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T11:56:56.098Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T11:56:56.098Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] node:events:496
[0]       throw er; // Unhandled 'error' event
[0]       ^
[0] 
[0] Error: listen EADDRINUSE: address already in use :::5000
[0]     at Server.setupListenHandle [as _listen2] (node:net:1940:16)
[0]     at listenInCluster (node:net:1997:12)
[0]     at Server.listen (node:net:2102:7)
[0]     at Function.listen (C:\Users\Denis\Desktop\Vheer\vheer-clone\server\node_modules\express\lib\application.js:635:24)
[0]     at file:///C:/Users/Denis/Desktop/Vheer/vheer-clone/server/index.js:191:20
[0]     at ModuleJob.run (node:internal/modules/esm/module_job:329:25)
[0]     at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
[0]     at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
[0] Emitted 'error' event on Server instance at:
[0]     at emitErrorNT (node:net:1976:8)
[0]     at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
[0]   code: 'EADDRINUSE',
[0]   errno: -4091,
[0]   syscall: 'listen',
[0]   address: '::',
[0]   port: 5000
[0] }
[0] 
[0] Node.js v22.17.1
[0] [31m[nodemon] app crashed - waiting for file changes before starting...[39m
[0] [32m[nodemon] restarting due to changes...[39m
[0] [32m[nodemon] starting `node index.js`[39m
[0] NODE_ENV: development
[0] üü¢ Cloudinary configured for production storage
[0] Flux API configuration: {
[0]   FLUX_API_KEY: 'Set (2f58d1ef...)',
[0]   FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
[0]   NODE_ENV: 'development'
[0] }
[0] GPT Image API configuration: {
[0]   GPT_IMAGE_API_KEY: 'Set',
[0]   GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
[0]   IMGBB_API_KEY: 'Set',
[0]   NODE_ENV: 'development'
[0] }
[0] Qwen Image controller initialized
[0] GPT Image Text-to-Image controller initialized
[0] üîß Environment Configuration Check
[0] 
[0] üö® Missing Required Environment Variables:
[0] ‚ùå CORS_ORIGIN: Allowed CORS origin
[0] 
[0] ‚ö†Ô∏è  Running in development mode with missing variables. Some features may not work.
[0] ===================================
[0] 
[0] üìù Optional environment variables not set:
[0] ‚ö†Ô∏è  GPTIMAGE_API_URL: GPT Image API endpoint
[0] ‚ö†Ô∏è  BASE_URL: Base URL of the application
[0] ===================================
[0] 
[0] ‚úÖ Credit cron jobs initialized successfully
[0] üìÖ Daily credits will be added at 00:00 UTC every day
[0] üîÑ Additional checks every 6 hours
[0] [2025-08-23T11:57:01.293Z] [INFO] ‚úÖ Subscription expiry cron jobs initialized
[0] [2025-08-23T11:57:01.293Z] [INFO]    - Expired subscriptions: Every hour
[0] [2025-08-23T11:57:01.293Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[0] [2025-08-23T11:57:01.297Z] [INFO] ‚úÖ Automatic payment cron jobs initialized
[0] [2025-08-23T11:57:01.298Z] [INFO]    - Auto payments: Every hour
[0] [2025-08-23T11:57:01.298Z] [INFO]    - Expiry notifications: Daily at 10 AM
[0] [2025-08-23T11:57:01.327Z] [INFO] Server started {"port":"5000 ","environment":"development","nodeVersion":"v22.17.1"}
