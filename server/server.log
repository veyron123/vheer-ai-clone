
> colibrrri-server@1.0.0 dev
> nodemon index.js

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node index.js`[39m
NODE_ENV: development
ğŸŸ¢ Cloudinary configured for production storage
ğŸ—„ï¸  Storage Provider: cloudinary
ğŸŸ¢ Cloudinary initialized: df9joii9s
Flux API configuration: {
  FLUX_API_KEY: 'Set (2f58d1ef...)',
  FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
  NODE_ENV: 'development'
}
GPT Image API configuration: {
  GPT_IMAGE_API_KEY: 'Set',
  GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
  IMGBB_API_KEY: 'Set',
  NODE_ENV: 'development'
}
Qwen Image controller initialized
GPT Image Text-to-Image controller initialized
ğŸ¬ Runway Video Service initialized
ğŸ”‘ API Key configured: âœ… Yes
â˜ï¸ Storage Provider: cloudinary
ğŸ”§ Environment Configuration Check
===================================

ğŸš¨ Missing Required Environment Variables:
âŒ CORS_ORIGIN: Allowed CORS origin

âš ï¸  Running in development mode with missing variables. Some features may not work.

ğŸ“ Optional environment variables not set:
âš ï¸  GPTIMAGE_API_URL: GPT Image API endpoint
âš ï¸  BASE_URL: Base URL of the application
===================================

âœ… Credit cron jobs initialized successfully
ğŸ“… Daily credits will be added at 00:00 UTC every day
ğŸ”„ Additional checks every 6 hours
[2025-08-23T17:22:48.906Z] [INFO] âœ… Subscription expiry cron jobs initialized
[2025-08-23T17:22:48.906Z] [INFO]    - Expired subscriptions: Every hour
[2025-08-23T17:22:48.906Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[2025-08-23T17:22:48.910Z] [INFO] âœ… Automatic payment cron jobs initialized
[2025-08-23T17:22:48.910Z] [INFO]    - Auto payments: Every hour
[2025-08-23T17:22:48.910Z] [INFO]    - Expiry notifications: Daily at 10 AM
node:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at Function.listen (C:\Users\Denis\Desktop\Vheer\vheer-clone\server\node_modules\express\lib\application.js:635:24)
    at file:///C:/Users/Denis/Desktop/Vheer/vheer-clone/server/index.js:195:20
    at ModuleJob.run (node:internal/modules/esm/module_job:329:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1976:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -4091,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v22.17.1
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
NODE_ENV: development
ğŸŸ¢ Cloudinary configured for production storage
ğŸ—„ï¸  Storage Provider: cloudinary
ğŸŸ¢ Cloudinary initialized: df9joii9s
Flux API configuration: {
  FLUX_API_KEY: 'Set (2f58d1ef...)',
  FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
  NODE_ENV: 'development'
}
GPT Image API configuration: {
  GPT_IMAGE_API_KEY: 'Set',
  GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
  IMGBB_API_KEY: 'Set',
  NODE_ENV: 'development'
}
Qwen Image controller initialized
GPT Image Text-to-Image controller initialized
ğŸ¬ Runway Video Service initialized
ğŸ”‘ API Key configured: âœ… Yes
â˜ï¸ Storage Provider: cloudinary
ğŸ”§ Environment Configuration Check
===================================

ğŸš¨ Missing Required Environment Variables:
âŒ CORS_ORIGIN: Allowed CORS origin

âš ï¸  Running in development mode with missing variables. Some features may not work.

ğŸ“ Optional environment variables not set:
âš ï¸  GPTIMAGE_API_URL: GPT Image API endpoint
âš ï¸  BASE_URL: Base URL of the application
===================================

âœ… Credit cron jobs initialized successfully
ğŸ“… Daily credits will be added at 00:00 UTC every day
ğŸ”„ Additional checks every 6 hours
[2025-08-23T17:25:59.672Z] [INFO] âœ… Subscription expiry cron jobs initialized
[2025-08-23T17:25:59.672Z] [INFO]    - Expired subscriptions: Every hour
[2025-08-23T17:25:59.672Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[2025-08-23T17:25:59.676Z] [INFO] âœ… Automatic payment cron jobs initialized
[2025-08-23T17:25:59.676Z] [INFO]    - Auto payments: Every hour
[2025-08-23T17:25:59.676Z] [INFO]    - Expiry notifications: Daily at 10 AM
node:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at Function.listen (C:\Users\Denis\Desktop\Vheer\vheer-clone\server\node_modules\express\lib\application.js:635:24)
    at file:///C:/Users/Denis/Desktop/Vheer/vheer-clone/server/index.js:195:20
    at ModuleJob.run (node:internal/modules/esm/module_job:329:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1976:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -4091,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v22.17.1
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
NODE_ENV: development
ğŸŸ¢ Cloudinary configured for production storage
ğŸ—„ï¸  Storage Provider: cloudinary
ğŸŸ¢ Cloudinary initialized: df9joii9s
Flux API configuration: {
  FLUX_API_KEY: 'Set (2f58d1ef...)',
  FLUX_API_URL: 'https://api.bfl.ai/v1/flux-kontext-pro',
  NODE_ENV: 'development'
}
GPT Image API configuration: {
  GPT_IMAGE_API_KEY: 'Set',
  GPT_IMAGE_API_URL: 'https://api.kie.ai/api/v1/gpt4o-image/generate',
  IMGBB_API_KEY: 'Set',
  NODE_ENV: 'development'
}
Qwen Image controller initialized
GPT Image Text-to-Image controller initialized
ğŸ¬ Runway Video Service initialized
ğŸ”‘ API Key configured: âœ… Yes
â˜ï¸ Storage Provider: cloudinary
ğŸ”§ Environment Configuration Check
===================================

ğŸš¨ Missing Required Environment Variables:
âŒ CORS_ORIGIN: Allowed CORS origin

âš ï¸  Running in development mode with missing variables. Some features may not work.

ğŸ“ Optional environment variables not set:
âš ï¸  GPTIMAGE_API_URL: GPT Image API endpoint
âš ï¸  BASE_URL: Base URL of the application
===================================

âœ… Credit cron jobs initialized successfully
ğŸ“… Daily credits will be added at 00:00 UTC every day
ğŸ”„ Additional checks every 6 hours
[2025-08-23T17:26:10.975Z] [INFO] âœ… Subscription expiry cron jobs initialized
[2025-08-23T17:26:10.975Z] [INFO]    - Expired subscriptions: Every hour
[2025-08-23T17:26:10.975Z] [INFO]    - Expiring subscriptions: Daily at 9 AM
[2025-08-23T17:26:10.979Z] [INFO] âœ… Automatic payment cron jobs initialized
[2025-08-23T17:26:10.979Z] [INFO]    - Auto payments: Every hour
[2025-08-23T17:26:10.980Z] [INFO]    - Expiry notifications: Daily at 10 AM
node:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at Function.listen (C:\Users\Denis\Desktop\Vheer\vheer-clone\server\node_modules\express\lib\application.js:635:24)
    at file:///C:/Users/Denis/Desktop/Vheer/vheer-clone/server/index.js:195:20
    at ModuleJob.run (node:internal/modules/esm/module_job:329:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1976:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -4091,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v22.17.1
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
